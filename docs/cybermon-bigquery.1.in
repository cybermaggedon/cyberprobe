.TH CYBERMON-ELASTICSEARCH "1" "October 2014" "@PACKAGE@ @VERSION@" "User Commands"
.SH NAME
cybermon-bigquery \- Subscribes to a cybermon event stream and sends
events to a Google BigQuery store
.SH SYNOPSIS
.B cybermon-bigquery
[ \fIEVENT-PUBLISHER\fR
[\fIPRIVATE-JSON\fR
[\fIPROJECT\fR
[\fIDATASET\fR
[\fITABLE\fR
] ] ] ] ]
.SH DESCRIPTION
.B cybermon-bigquery
subscribes to a cybermon event stream. Such a stream is generated by running
.B cybermon
with the
.B zeromq.lua
configuration file.  Received events are written to a BigQuery table.

The first argument specifies a ZeroMQ publisher to subscribe to, and is
typically of the form
\fBtcp://\fIhost\fB:5555\fR

The second argument specifies the path to a private key file, JSON format,
defaults to \fB/etc/cyberprobe/private.json.  You get this file from the
IAM section of the Google Cloud console.

The third argument specifies your cloud project ID.  By default, this is
read from the private key file.

The fourth argument species the dataset ID.  By default, this is
\fBcyberprobe\fI.  You should create the dataset yourself using the
cloud console.

The fifth argument specifies the table ID.  By default, this is
\fBcyberprobe\fI.  This is created if it doesn't exist.  Don't try to create
this yourself, the table needs to have the right schema!
.SS "Exit status:"
.TP
0
if OK,
.TP
non-zero
on error
.SH "EXAMPLE USAGE"
cybermon-bigquery tcp://host1:5555 /etc/cyberprobe/private.json my-project
.SH AUTHOR
Part of the Cyberprobe project.
.SH "REPORTING BUGS"
Visit <http://cyberprobe.sf.net> for support.
.SH COPYRIGHT
Copyright \(co 2013-2014 Cyber MacGeddon
.br
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.
.br
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH "SEE ALSO"
.BR cybermon (1),
.PP
Further documentation and a quickstart guide is available in
@DOCDIR@.  The command
.IP
.B info cyberprobe
.PP
accesses the complete manual.
